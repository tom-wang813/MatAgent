{"ast":null,"code":"var _jsxFileName = \"/Users/wang-work/bioagen/frontend/src/components/ChatWindow.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Send, Bot, User, Zap, AlertCircle, Info } from 'lucide-react';\nimport axios from 'axios';\nimport ToolCallDisplay from './ToolCallDisplay';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatWindow = ({\n  conversation,\n  onSendMessage,\n  onUpdateTitle,\n  isLoading,\n  setIsLoading\n}) => {\n  _s();\n  const [inputValue, setInputValue] = useState('');\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [conversation === null || conversation === void 0 ? void 0 : conversation.messages]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!inputValue.trim() || isLoading || !conversation) return;\n    const userMessage = {\n      id: Date.now().toString(),\n      type: 'user',\n      content: inputValue.trim(),\n      timestamp: new Date().toISOString()\n    };\n\n    // Add user message\n    onSendMessage(conversation.id, userMessage);\n\n    // Update conversation title if it's the first message\n    if (conversation.messages.length === 0) {\n      const title = inputValue.trim().length > 30 ? inputValue.trim().substring(0, 30) + '...' : inputValue.trim();\n      onUpdateTitle(conversation.id, title);\n    }\n    const currentInput = inputValue;\n    setInputValue('');\n    setIsLoading(true);\n    try {\n      const data = await sendMessage(currentInput, conversation.id, conversation.messages);\n      const assistantMessage = {\n        id: (Date.now() + 1).toString(),\n        type: 'assistant',\n        content: data.response,\n        timestamp: new Date().toISOString(),\n        tool_calls: data.tool_calls || [],\n        status: data.status || 'success',\n        available_tools: data.available_tools || []\n      };\n      onSendMessage(conversation.id, assistantMessage);\n    } catch (error) {\n      console.error('Error sending message:', error);\n      const errorMessage = {\n        id: (Date.now() + 1).toString(),\n        type: 'assistant',\n        content: `抱歉，发生了错误：${error.detail || error.message}。请稍后再试。`,\n        timestamp: new Date().toISOString(),\n        status: 'error'\n      };\n      onSendMessage(conversation.id, errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n  const adjustTextareaHeight = () => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      textarea.style.height = 'auto';\n      textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px';\n    }\n  };\n  useEffect(() => {\n    adjustTextareaHeight();\n  }, [inputValue]);\n  const formatTime = timestamp => {\n    return new Date(timestamp).toLocaleTimeString('zh-CN', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  if (!conversation) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-window\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state-icon\",\n          children: \"\\uD83E\\uDDEC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u6B22\\u8FCE\\u4F7F\\u7528 BioaGen Agent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u8FD9\\u662F\\u4E00\\u4E2A\\u57FA\\u4E8EAI\\u7684\\u751F\\u7269\\u5206\\u5B50\\u5206\\u6790\\u52A9\\u624B\\u3002\\u60A8\\u53EF\\u4EE5\\u8BE2\\u95EE\\u6709\\u5173\\u5206\\u5B50\\u7ED3\\u6784\\u3001\\u6027\\u8D28\\u9884\\u6D4B\\u3001 \\u5316\\u5B66\\u53CD\\u5E94\\u7B49\\u76F8\\u5173\\u95EE\\u9898\\u3002\\u70B9\\u51FB\\u5DE6\\u4FA7\\\"\\u65B0\\u5EFA\\u5BF9\\u8BDD\\\"\\u5F00\\u59CB\\u60A8\\u7684\\u5206\\u6790\\u4E4B\\u65C5\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-window\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-title\",\n        children: conversation.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-messages\",\n      children: [conversation.messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message ${message.type}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-avatar\",\n          children: message.type === 'user' ? /*#__PURE__*/_jsxDEV(User, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 42\n          }, this) : /*#__PURE__*/_jsxDEV(Bot, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 63\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: message.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this), message.tool_calls && message.tool_calls.length > 0 && /*#__PURE__*/_jsxDEV(ToolCallDisplay, {\n            toolCalls: message.tool_calls\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 17\n          }, this), message.status && message.status !== 'success' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message-status ${message.status}`,\n            children: [message.status === 'error' && /*#__PURE__*/_jsxDEV(AlertCircle, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 50\n            }, this), message.status === 'warning' && /*#__PURE__*/_jsxDEV(Info, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 52\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: message.status === 'error' ? '执行失败' : '部分成功'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-time\",\n            children: formatTime(message.timestamp)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this)]\n      }, message.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message assistant\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-avatar\",\n          children: /*#__PURE__*/_jsxDEV(Bot, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-message\",\n            children: [\"\\u6B63\\u5728\\u601D\\u8003\\u4E2D\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-dots\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loading-dot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loading-dot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loading-dot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-input-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"chat-input-form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: textareaRef,\n          value: inputValue,\n          onChange: e => setInputValue(e.target.value),\n          onKeyPress: handleKeyPress,\n          placeholder: \"\\u8F93\\u5165\\u60A8\\u7684\\u95EE\\u9898...\\u4F8B\\u5982\\uFF1A\\u5206\\u6790\\u4E59\\u9187\\u5206\\u5B50\\u7684\\u6027\\u8D28\",\n          className: \"chat-input\",\n          rows: 1,\n          disabled: isLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"send-btn\",\n          disabled: !inputValue.trim() || isLoading,\n          children: [/*#__PURE__*/_jsxDEV(Send, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), \"\\u53D1\\u9001\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatWindow, \"jhcXAL8SQlw+3bbfqYG9tY4OWDM=\");\n_c = ChatWindow;\nexport default ChatWindow;\nvar _c;\n$RefreshReg$(_c, \"ChatWindow\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Send","Bot","User","Zap","AlertCircle","Info","axios","ToolCallDisplay","jsxDEV","_jsxDEV","ChatWindow","conversation","onSendMessage","onUpdateTitle","isLoading","setIsLoading","_s","inputValue","setInputValue","messagesEndRef","textareaRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","messages","handleSubmit","e","preventDefault","trim","userMessage","id","Date","now","toString","type","content","timestamp","toISOString","length","title","substring","currentInput","data","sendMessage","assistantMessage","response","tool_calls","status","available_tools","error","console","errorMessage","detail","message","handleKeyPress","key","shiftKey","adjustTextareaHeight","textarea","style","height","Math","min","scrollHeight","formatTime","toLocaleTimeString","hour","minute","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","size","toolCalls","ref","onSubmit","value","onChange","target","onKeyPress","placeholder","rows","disabled","_c","$RefreshReg$"],"sources":["/Users/wang-work/bioagen/frontend/src/components/ChatWindow.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Send, Bot, User, Zap, AlertCircle, Info } from 'lucide-react';\nimport axios from 'axios';\nimport ToolCallDisplay from './ToolCallDisplay';\n\nconst ChatWindow = ({ \n  conversation, \n  onSendMessage, \n  onUpdateTitle, \n  isLoading, \n  setIsLoading \n}) => {\n  const [inputValue, setInputValue] = useState('');\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [conversation?.messages]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!inputValue.trim() || isLoading || !conversation) return;\n\n    const userMessage = {\n      id: Date.now().toString(),\n      type: 'user',\n      content: inputValue.trim(),\n      timestamp: new Date().toISOString()\n    };\n\n    // Add user message\n    onSendMessage(conversation.id, userMessage);\n\n    // Update conversation title if it's the first message\n    if (conversation.messages.length === 0) {\n      const title = inputValue.trim().length > 30 \n        ? inputValue.trim().substring(0, 30) + '...'\n        : inputValue.trim();\n      onUpdateTitle(conversation.id, title);\n    }\n\n    const currentInput = inputValue;\n    setInputValue('');\n    setIsLoading(true);\n\n    try {\n      const data = await sendMessage(currentInput, conversation.id, conversation.messages);\n\n      const assistantMessage = {\n        id: (Date.now() + 1).toString(),\n        type: 'assistant',\n        content: data.response,\n        timestamp: new Date().toISOString(),\n        tool_calls: data.tool_calls || [],\n        status: data.status || 'success',\n        available_tools: data.available_tools || []\n      };\n\n      onSendMessage(conversation.id, assistantMessage);\n    } catch (error) {\n      console.error('Error sending message:', error);\n      const errorMessage = {\n        id: (Date.now() + 1).toString(),\n        type: 'assistant',\n        content: `抱歉，发生了错误：${error.detail || error.message}。请稍后再试。`,\n        timestamp: new Date().toISOString(),\n        status: 'error'\n      };\n      onSendMessage(conversation.id, errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n\n  const adjustTextareaHeight = () => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      textarea.style.height = 'auto';\n      textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px';\n    }\n  };\n\n  useEffect(() => {\n    adjustTextareaHeight();\n  }, [inputValue]);\n\n  const formatTime = (timestamp) => {\n    return new Date(timestamp).toLocaleTimeString('zh-CN', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  if (!conversation) {\n    return (\n      <div className=\"chat-window\">\n        <div className=\"empty-state\">\n          <div className=\"empty-state-icon\">🧬</div>\n          <h3>欢迎使用 BioaGen Agent</h3>\n          <p>\n            这是一个基于AI的生物分子分析助手。您可以询问有关分子结构、性质预测、\n            化学反应等相关问题。点击左侧\"新建对话\"开始您的分析之旅。\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"chat-window\">\n      <div className=\"chat-header\">\n        <div className=\"chat-title\">{conversation.title}</div>\n      </div>\n\n      <div className=\"chat-messages\">\n        {conversation.messages.map((message) => (\n          <div key={message.id} className={`message ${message.type}`}>\n            <div className=\"message-avatar\">\n              {message.type === 'user' ? <User size={16} /> : <Bot size={16} />}\n            </div>\n            <div className=\"message-content\">\n              <div>{message.content}</div>\n              \n              {/* Display tool calls if available */}\n              {message.tool_calls && message.tool_calls.length > 0 && (\n                <ToolCallDisplay toolCalls={message.tool_calls} />\n              )}\n              \n              {/* Display status indicator */}\n              {message.status && message.status !== 'success' && (\n                <div className={`message-status ${message.status}`}>\n                  {message.status === 'error' && <AlertCircle size={14} />}\n                  {message.status === 'warning' && <Info size={14} />}\n                  <span>{message.status === 'error' ? '执行失败' : '部分成功'}</span>\n                </div>\n              )}\n              \n              <div className=\"message-time\">\n                {formatTime(message.timestamp)}\n              </div>\n            </div>\n          </div>\n        ))}\n        \n        {isLoading && (\n          <div className=\"message assistant\">\n            <div className=\"message-avatar\">\n              <Bot size={16} />\n            </div>\n            <div className=\"message-content\">\n              <div className=\"loading-message\">\n                正在思考中\n                <div className=\"loading-dots\">\n                  <div className=\"loading-dot\"></div>\n                  <div className=\"loading-dot\"></div>\n                  <div className=\"loading-dot\"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      <div className=\"chat-input-container\">\n        <form className=\"chat-input-form\" onSubmit={handleSubmit}>\n          <textarea\n            ref={textareaRef}\n            value={inputValue}\n            onChange={(e) => setInputValue(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder=\"输入您的问题...例如：分析乙醇分子的性质\"\n            className=\"chat-input\"\n            rows={1}\n            disabled={isLoading}\n          />\n          <button\n            type=\"submit\"\n            className=\"send-btn\"\n            disabled={!inputValue.trim() || isLoading}\n          >\n            <Send size={16} />\n            发送\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatWindow;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}