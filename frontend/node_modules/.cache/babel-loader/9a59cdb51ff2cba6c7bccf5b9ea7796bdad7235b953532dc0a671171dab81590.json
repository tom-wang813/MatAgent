{"ast":null,"code":"var _jsxFileName = \"/Users/wang-work/bioagen/frontend/src/components/ChatWindow.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Send, Bot, User, Zap, AlertCircle, Info } from 'lucide-react';\nimport axios from 'axios';\nimport ToolCallDisplay from './ToolCallDisplay';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatWindow = ({\n  conversation,\n  onSendMessage,\n  onUpdateTitle,\n  isLoading,\n  setIsLoading\n}) => {\n  _s();\n  const [inputValue, setInputValue] = useState('');\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [conversation === null || conversation === void 0 ? void 0 : conversation.messages]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!inputValue.trim() || isLoading || !conversation) return;\n    const userMessage = {\n      id: Date.now().toString(),\n      type: 'user',\n      content: inputValue.trim(),\n      timestamp: new Date().toISOString()\n    };\n\n    // Add user message\n    onSendMessage(conversation.id, userMessage);\n\n    // Update conversation title if it's the first message\n    if (conversation.messages.length === 0) {\n      const title = inputValue.trim().length > 30 ? inputValue.trim().substring(0, 30) + '...' : inputValue.trim();\n      onUpdateTitle(conversation.id, title);\n    }\n    const currentInput = inputValue;\n    setInputValue('');\n    setIsLoading(true);\n    const sendMessage = async (message, conversationId, history) => {\n      try {\n        const response = await axios.post('http://localhost:8000/api/chat', {\n          message: message,\n          conversation_id: conversationId,\n          history: history.map(msg => ({\n            type: msg.type,\n            content: msg.content\n          }))\n        });\n        return response.data;\n      } catch (error) {\n        console.error('Error in sendMessage API call:', error);\n        throw error;\n      }\n    };\n    try {\n      const data = await sendMessage(currentInput, conversation.id, conversation.messages);\n      const assistantMessage = {\n        id: (Date.now() + 1).toString(),\n        type: 'assistant',\n        content: data.response,\n        timestamp: new Date().toISOString(),\n        tool_calls: data.tool_calls || [],\n        status: data.status || 'success',\n        available_tools: data.available_tools || []\n      };\n      onSendMessage(conversation.id, assistantMessage);\n    } catch (error) {\n      console.error('Error sending message:', error);\n      const errorMessage = {\n        id: (Date.now() + 1).toString(),\n        type: 'assistant',\n        content: `抱歉，发生了错误：${error.detail || error.message}。请稍后再试。`,\n        timestamp: new Date().toISOString(),\n        status: 'error'\n      };\n      onSendMessage(conversation.id, errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n  const adjustTextareaHeight = () => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      textarea.style.height = 'auto';\n      textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px';\n    }\n  };\n  useEffect(() => {\n    adjustTextareaHeight();\n  }, [inputValue]);\n  const formatTime = timestamp => {\n    return new Date(timestamp).toLocaleTimeString('zh-CN', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  if (!conversation) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-window\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state-icon\",\n          children: \"\\uD83E\\uDDEC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u6B22\\u8FCE\\u4F7F\\u7528 BioaGen Agent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u8FD9\\u662F\\u4E00\\u4E2A\\u57FA\\u4E8EAI\\u7684\\u751F\\u7269\\u5206\\u5B50\\u5206\\u6790\\u52A9\\u624B\\u3002\\u60A8\\u53EF\\u4EE5\\u8BE2\\u95EE\\u6709\\u5173\\u5206\\u5B50\\u7ED3\\u6784\\u3001\\u6027\\u8D28\\u9884\\u6D4B\\u3001 \\u5316\\u5B66\\u53CD\\u5E94\\u7B49\\u76F8\\u5173\\u95EE\\u9898\\u3002\\u70B9\\u51FB\\u5DE6\\u4FA7\\\"\\u65B0\\u5EFA\\u5BF9\\u8BDD\\\"\\u5F00\\u59CB\\u60A8\\u7684\\u5206\\u6790\\u4E4B\\u65C5\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-window\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-title\",\n        children: conversation.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-messages\",\n      children: [conversation.messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message ${message.type}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-avatar\",\n          children: message.type === 'user' ? /*#__PURE__*/_jsxDEV(User, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 42\n          }, this) : /*#__PURE__*/_jsxDEV(Bot, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 63\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: message.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this), message.tool_calls && message.tool_calls.length > 0 && /*#__PURE__*/_jsxDEV(ToolCallDisplay, {\n            toolCalls: message.tool_calls\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 17\n          }, this), message.status && message.status !== 'success' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message-status ${message.status}`,\n            children: [message.status === 'error' && /*#__PURE__*/_jsxDEV(AlertCircle, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 50\n            }, this), message.status === 'warning' && /*#__PURE__*/_jsxDEV(Info, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 52\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: message.status === 'error' ? '执行失败' : '部分成功'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-time\",\n            children: formatTime(message.timestamp)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this)]\n      }, message.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message assistant\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-avatar\",\n          children: /*#__PURE__*/_jsxDEV(Bot, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-message\",\n            children: [\"\\u6B63\\u5728\\u601D\\u8003\\u4E2D\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-dots\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loading-dot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loading-dot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loading-dot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-input-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"chat-input-form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: textareaRef,\n          value: inputValue,\n          onChange: e => setInputValue(e.target.value),\n          onKeyPress: handleKeyPress,\n          placeholder: \"\\u8F93\\u5165\\u60A8\\u7684\\u95EE\\u9898...\\u4F8B\\u5982\\uFF1A\\u5206\\u6790\\u4E59\\u9187\\u5206\\u5B50\\u7684\\u6027\\u8D28\",\n          className: \"chat-input\",\n          rows: 1,\n          disabled: isLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"send-btn\",\n          disabled: !inputValue.trim() || isLoading,\n          children: [/*#__PURE__*/_jsxDEV(Send, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), \"\\u53D1\\u9001\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatWindow, \"jhcXAL8SQlw+3bbfqYG9tY4OWDM=\");\n_c = ChatWindow;\nexport default ChatWindow;\nvar _c;\n$RefreshReg$(_c, \"ChatWindow\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Send","Bot","User","Zap","AlertCircle","Info","axios","ToolCallDisplay","jsxDEV","_jsxDEV","ChatWindow","conversation","onSendMessage","onUpdateTitle","isLoading","setIsLoading","_s","inputValue","setInputValue","messagesEndRef","textareaRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","messages","handleSubmit","e","preventDefault","trim","userMessage","id","Date","now","toString","type","content","timestamp","toISOString","length","title","substring","currentInput","sendMessage","message","conversationId","history","response","post","conversation_id","map","msg","data","error","console","assistantMessage","tool_calls","status","available_tools","errorMessage","detail","handleKeyPress","key","shiftKey","adjustTextareaHeight","textarea","style","height","Math","min","scrollHeight","formatTime","toLocaleTimeString","hour","minute","className","children","fileName","_jsxFileName","lineNumber","columnNumber","size","toolCalls","ref","onSubmit","value","onChange","target","onKeyPress","placeholder","rows","disabled","_c","$RefreshReg$"],"sources":["/Users/wang-work/bioagen/frontend/src/components/ChatWindow.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Send, Bot, User, Zap, AlertCircle, Info } from 'lucide-react';\nimport axios from 'axios';\nimport ToolCallDisplay from './ToolCallDisplay';\n\nconst ChatWindow = ({ \n  conversation, \n  onSendMessage, \n  onUpdateTitle, \n  isLoading, \n  setIsLoading \n}) => {\n  const [inputValue, setInputValue] = useState('');\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [conversation?.messages]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!inputValue.trim() || isLoading || !conversation) return;\n\n    const userMessage = {\n      id: Date.now().toString(),\n      type: 'user',\n      content: inputValue.trim(),\n      timestamp: new Date().toISOString()\n    };\n\n    // Add user message\n    onSendMessage(conversation.id, userMessage);\n\n    // Update conversation title if it's the first message\n    if (conversation.messages.length === 0) {\n      const title = inputValue.trim().length > 30 \n        ? inputValue.trim().substring(0, 30) + '...'\n        : inputValue.trim();\n      onUpdateTitle(conversation.id, title);\n    }\n\n    const currentInput = inputValue;\n    setInputValue('');\n    setIsLoading(true);\n\n    const sendMessage = async (message, conversationId, history) => {\n      try {\n        const response = await axios.post('http://localhost:8000/api/chat', {\n          message: message,\n          conversation_id: conversationId,\n          history: history.map(msg => ({ type: msg.type, content: msg.content }))\n        });\n        return response.data;\n      } catch (error) {\n        console.error('Error in sendMessage API call:', error);\n        throw error;\n      }\n    };\n\n    try {\n      const data = await sendMessage(currentInput, conversation.id, conversation.messages);\n\n      const assistantMessage = {\n        id: (Date.now() + 1).toString(),\n        type: 'assistant',\n        content: data.response,\n        timestamp: new Date().toISOString(),\n        tool_calls: data.tool_calls || [],\n        status: data.status || 'success',\n        available_tools: data.available_tools || []\n      };\n\n      onSendMessage(conversation.id, assistantMessage);\n    } catch (error) {\n      console.error('Error sending message:', error);\n      const errorMessage = {\n        id: (Date.now() + 1).toString(),\n        type: 'assistant',\n        content: `抱歉，发生了错误：${error.detail || error.message}。请稍后再试。`,\n        timestamp: new Date().toISOString(),\n        status: 'error'\n      };\n      onSendMessage(conversation.id, errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n\n  const adjustTextareaHeight = () => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      textarea.style.height = 'auto';\n      textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px';\n    }\n  };\n\n  useEffect(() => {\n    adjustTextareaHeight();\n  }, [inputValue]);\n\n  const formatTime = (timestamp) => {\n    return new Date(timestamp).toLocaleTimeString('zh-CN', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  if (!conversation) {\n    return (\n      <div className=\"chat-window\">\n        <div className=\"empty-state\">\n          <div className=\"empty-state-icon\">🧬</div>\n          <h3>欢迎使用 BioaGen Agent</h3>\n          <p>\n            这是一个基于AI的生物分子分析助手。您可以询问有关分子结构、性质预测、\n            化学反应等相关问题。点击左侧\"新建对话\"开始您的分析之旅。\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"chat-window\">\n      <div className=\"chat-header\">\n        <div className=\"chat-title\">{conversation.title}</div>\n      </div>\n\n      <div className=\"chat-messages\">\n        {conversation.messages.map((message) => (\n          <div key={message.id} className={`message ${message.type}`}>\n            <div className=\"message-avatar\">\n              {message.type === 'user' ? <User size={16} /> : <Bot size={16} />}\n            </div>\n            <div className=\"message-content\">\n              <div>{message.content}</div>\n              \n              {/* Display tool calls if available */}\n              {message.tool_calls && message.tool_calls.length > 0 && (\n                <ToolCallDisplay toolCalls={message.tool_calls} />\n              )}\n              \n              {/* Display status indicator */}\n              {message.status && message.status !== 'success' && (\n                <div className={`message-status ${message.status}`}>\n                  {message.status === 'error' && <AlertCircle size={14} />}\n                  {message.status === 'warning' && <Info size={14} />}\n                  <span>{message.status === 'error' ? '执行失败' : '部分成功'}</span>\n                </div>\n              )}\n              \n              <div className=\"message-time\">\n                {formatTime(message.timestamp)}\n              </div>\n            </div>\n          </div>\n        ))}\n        \n        {isLoading && (\n          <div className=\"message assistant\">\n            <div className=\"message-avatar\">\n              <Bot size={16} />\n            </div>\n            <div className=\"message-content\">\n              <div className=\"loading-message\">\n                正在思考中\n                <div className=\"loading-dots\">\n                  <div className=\"loading-dot\"></div>\n                  <div className=\"loading-dot\"></div>\n                  <div className=\"loading-dot\"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      <div className=\"chat-input-container\">\n        <form className=\"chat-input-form\" onSubmit={handleSubmit}>\n          <textarea\n            ref={textareaRef}\n            value={inputValue}\n            onChange={(e) => setInputValue(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder=\"输入您的问题...例如：分析乙醇分子的性质\"\n            className=\"chat-input\"\n            rows={1}\n            disabled={isLoading}\n          />\n          <button\n            type=\"submit\"\n            className=\"send-btn\"\n            disabled={!inputValue.trim() || isLoading}\n          >\n            <Send size={16} />\n            发送\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatWindow;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,SAASC,IAAI,EAAEC,GAAG,EAAEC,IAAI,EAAEC,GAAG,EAAEC,WAAW,EAAEC,IAAI,QAAQ,cAAc;AACtE,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,eAAe,MAAM,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhD,MAAMC,UAAU,GAAGA,CAAC;EAClBC,YAAY;EACZC,aAAa;EACbC,aAAa;EACbC,SAAS;EACTC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAMsB,cAAc,GAAGrB,MAAM,CAAC,IAAI,CAAC;EACnC,MAAMsB,WAAW,GAAGtB,MAAM,CAAC,IAAI,CAAC;EAEhC,MAAMuB,cAAc,GAAGA,CAAA,KAAM;IAAA,IAAAC,qBAAA;IAC3B,CAAAA,qBAAA,GAAAH,cAAc,CAACI,OAAO,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAwBE,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAChE,CAAC;EAED1B,SAAS,CAAC,MAAM;IACdsB,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACV,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEe,QAAQ,CAAC,CAAC;EAE5B,MAAMC,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAACZ,UAAU,CAACa,IAAI,CAAC,CAAC,IAAIhB,SAAS,IAAI,CAACH,YAAY,EAAE;IAEtD,MAAMoB,WAAW,GAAG;MAClBC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;MACzBC,IAAI,EAAE,MAAM;MACZC,OAAO,EAAEpB,UAAU,CAACa,IAAI,CAAC,CAAC;MAC1BQ,SAAS,EAAE,IAAIL,IAAI,CAAC,CAAC,CAACM,WAAW,CAAC;IACpC,CAAC;;IAED;IACA3B,aAAa,CAACD,YAAY,CAACqB,EAAE,EAAED,WAAW,CAAC;;IAE3C;IACA,IAAIpB,YAAY,CAACe,QAAQ,CAACc,MAAM,KAAK,CAAC,EAAE;MACtC,MAAMC,KAAK,GAAGxB,UAAU,CAACa,IAAI,CAAC,CAAC,CAACU,MAAM,GAAG,EAAE,GACvCvB,UAAU,CAACa,IAAI,CAAC,CAAC,CAACY,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,KAAK,GAC1CzB,UAAU,CAACa,IAAI,CAAC,CAAC;MACrBjB,aAAa,CAACF,YAAY,CAACqB,EAAE,EAAES,KAAK,CAAC;IACvC;IAEA,MAAME,YAAY,GAAG1B,UAAU;IAC/BC,aAAa,CAAC,EAAE,CAAC;IACjBH,YAAY,CAAC,IAAI,CAAC;IAElB,MAAM6B,WAAW,GAAG,MAAAA,CAAOC,OAAO,EAAEC,cAAc,EAAEC,OAAO,KAAK;MAC9D,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAM1C,KAAK,CAAC2C,IAAI,CAAC,gCAAgC,EAAE;UAClEJ,OAAO,EAAEA,OAAO;UAChBK,eAAe,EAAEJ,cAAc;UAC/BC,OAAO,EAAEA,OAAO,CAACI,GAAG,CAACC,GAAG,KAAK;YAAEhB,IAAI,EAAEgB,GAAG,CAAChB,IAAI;YAAEC,OAAO,EAAEe,GAAG,CAACf;UAAQ,CAAC,CAAC;QACxE,CAAC,CAAC;QACF,OAAOW,QAAQ,CAACK,IAAI;MACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;QACtD,MAAMA,KAAK;MACb;IACF,CAAC;IAED,IAAI;MACF,MAAMD,IAAI,GAAG,MAAMT,WAAW,CAACD,YAAY,EAAEhC,YAAY,CAACqB,EAAE,EAAErB,YAAY,CAACe,QAAQ,CAAC;MAEpF,MAAM8B,gBAAgB,GAAG;QACvBxB,EAAE,EAAE,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAEC,QAAQ,CAAC,CAAC;QAC/BC,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAEgB,IAAI,CAACL,QAAQ;QACtBV,SAAS,EAAE,IAAIL,IAAI,CAAC,CAAC,CAACM,WAAW,CAAC,CAAC;QACnCkB,UAAU,EAAEJ,IAAI,CAACI,UAAU,IAAI,EAAE;QACjCC,MAAM,EAAEL,IAAI,CAACK,MAAM,IAAI,SAAS;QAChCC,eAAe,EAAEN,IAAI,CAACM,eAAe,IAAI;MAC3C,CAAC;MAED/C,aAAa,CAACD,YAAY,CAACqB,EAAE,EAAEwB,gBAAgB,CAAC;IAClD,CAAC,CAAC,OAAOF,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9C,MAAMM,YAAY,GAAG;QACnB5B,EAAE,EAAE,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAEC,QAAQ,CAAC,CAAC;QAC/BC,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,YAAYiB,KAAK,CAACO,MAAM,IAAIP,KAAK,CAACT,OAAO,SAAS;QAC3DP,SAAS,EAAE,IAAIL,IAAI,CAAC,CAAC,CAACM,WAAW,CAAC,CAAC;QACnCmB,MAAM,EAAE;MACV,CAAC;MACD9C,aAAa,CAACD,YAAY,CAACqB,EAAE,EAAE4B,YAAY,CAAC;IAC9C,CAAC,SAAS;MACR7C,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,MAAM+C,cAAc,GAAIlC,CAAC,IAAK;IAC5B,IAAIA,CAAC,CAACmC,GAAG,KAAK,OAAO,IAAI,CAACnC,CAAC,CAACoC,QAAQ,EAAE;MACpCpC,CAAC,CAACC,cAAc,CAAC,CAAC;MAClBF,YAAY,CAACC,CAAC,CAAC;IACjB;EACF,CAAC;EAED,MAAMqC,oBAAoB,GAAGA,CAAA,KAAM;IACjC,MAAMC,QAAQ,GAAG9C,WAAW,CAACG,OAAO;IACpC,IAAI2C,QAAQ,EAAE;MACZA,QAAQ,CAACC,KAAK,CAACC,MAAM,GAAG,MAAM;MAC9BF,QAAQ,CAACC,KAAK,CAACC,MAAM,GAAGC,IAAI,CAACC,GAAG,CAACJ,QAAQ,CAACK,YAAY,EAAE,GAAG,CAAC,GAAG,IAAI;IACrE;EACF,CAAC;EAEDxE,SAAS,CAAC,MAAM;IACdkE,oBAAoB,CAAC,CAAC;EACxB,CAAC,EAAE,CAAChD,UAAU,CAAC,CAAC;EAEhB,MAAMuD,UAAU,GAAIlC,SAAS,IAAK;IAChC,OAAO,IAAIL,IAAI,CAACK,SAAS,CAAC,CAACmC,kBAAkB,CAAC,OAAO,EAAE;MACrDC,IAAI,EAAE,SAAS;MACfC,MAAM,EAAE;IACV,CAAC,CAAC;EACJ,CAAC;EAED,IAAI,CAAChE,YAAY,EAAE;IACjB,oBACEF,OAAA;MAAKmE,SAAS,EAAC,aAAa;MAAAC,QAAA,eAC1BpE,OAAA;QAAKmE,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BpE,OAAA;UAAKmE,SAAS,EAAC,kBAAkB;UAAAC,QAAA,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC1CxE,OAAA;UAAAoE,QAAA,EAAI;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC3BxE,OAAA;UAAAoE,QAAA,EAAG;QAGH;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,oBACExE,OAAA;IAAKmE,SAAS,EAAC,aAAa;IAAAC,QAAA,gBAC1BpE,OAAA;MAAKmE,SAAS,EAAC,aAAa;MAAAC,QAAA,eAC1BpE,OAAA;QAAKmE,SAAS,EAAC,YAAY;QAAAC,QAAA,EAAElE,YAAY,CAAC8B;MAAK;QAAAqC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnD,CAAC,eAENxE,OAAA;MAAKmE,SAAS,EAAC,eAAe;MAAAC,QAAA,GAC3BlE,YAAY,CAACe,QAAQ,CAACyB,GAAG,CAAEN,OAAO,iBACjCpC,OAAA;QAAsBmE,SAAS,EAAE,WAAW/B,OAAO,CAACT,IAAI,EAAG;QAAAyC,QAAA,gBACzDpE,OAAA;UAAKmE,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAC5BhC,OAAO,CAACT,IAAI,KAAK,MAAM,gBAAG3B,OAAA,CAACP,IAAI;YAACgF,IAAI,EAAE;UAAG;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,gBAAGxE,OAAA,CAACR,GAAG;YAACiF,IAAI,EAAE;UAAG;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9D,CAAC,eACNxE,OAAA;UAAKmE,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9BpE,OAAA;YAAAoE,QAAA,EAAMhC,OAAO,CAACR;UAAO;YAAAyC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EAG3BpC,OAAO,CAACY,UAAU,IAAIZ,OAAO,CAACY,UAAU,CAACjB,MAAM,GAAG,CAAC,iBAClD/B,OAAA,CAACF,eAAe;YAAC4E,SAAS,EAAEtC,OAAO,CAACY;UAAW;YAAAqB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAClD,EAGApC,OAAO,CAACa,MAAM,IAAIb,OAAO,CAACa,MAAM,KAAK,SAAS,iBAC7CjD,OAAA;YAAKmE,SAAS,EAAE,kBAAkB/B,OAAO,CAACa,MAAM,EAAG;YAAAmB,QAAA,GAChDhC,OAAO,CAACa,MAAM,KAAK,OAAO,iBAAIjD,OAAA,CAACL,WAAW;cAAC8E,IAAI,EAAE;YAAG;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,EACvDpC,OAAO,CAACa,MAAM,KAAK,SAAS,iBAAIjD,OAAA,CAACJ,IAAI;cAAC6E,IAAI,EAAE;YAAG;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACnDxE,OAAA;cAAAoE,QAAA,EAAOhC,OAAO,CAACa,MAAM,KAAK,OAAO,GAAG,MAAM,GAAG;YAAM;cAAAoB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxD,CACN,eAEDxE,OAAA;YAAKmE,SAAS,EAAC,cAAc;YAAAC,QAAA,EAC1BL,UAAU,CAAC3B,OAAO,CAACP,SAAS;UAAC;YAAAwC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA,GAxBEpC,OAAO,CAACb,EAAE;QAAA8C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAyBf,CACN,CAAC,EAEDnE,SAAS,iBACRL,OAAA;QAAKmE,SAAS,EAAC,mBAAmB;QAAAC,QAAA,gBAChCpE,OAAA;UAAKmE,SAAS,EAAC,gBAAgB;UAAAC,QAAA,eAC7BpE,OAAA,CAACR,GAAG;YAACiF,IAAI,EAAE;UAAG;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACd,CAAC,eACNxE,OAAA;UAAKmE,SAAS,EAAC,iBAAiB;UAAAC,QAAA,eAC9BpE,OAAA;YAAKmE,SAAS,EAAC,iBAAiB;YAAAC,QAAA,GAAC,gCAE/B,eAAApE,OAAA;cAAKmE,SAAS,EAAC,cAAc;cAAAC,QAAA,gBAC3BpE,OAAA;gBAAKmE,SAAS,EAAC;cAAa;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACnCxE,OAAA;gBAAKmE,SAAS,EAAC;cAAa;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACnCxE,OAAA;gBAAKmE,SAAS,EAAC;cAAa;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,eACDxE,OAAA;QAAK2E,GAAG,EAAEjE;MAAe;QAAA2D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,eAENxE,OAAA;MAAKmE,SAAS,EAAC,sBAAsB;MAAAC,QAAA,eACnCpE,OAAA;QAAMmE,SAAS,EAAC,iBAAiB;QAACS,QAAQ,EAAE1D,YAAa;QAAAkD,QAAA,gBACvDpE,OAAA;UACE2E,GAAG,EAAEhE,WAAY;UACjBkE,KAAK,EAAErE,UAAW;UAClBsE,QAAQ,EAAG3D,CAAC,IAAKV,aAAa,CAACU,CAAC,CAAC4D,MAAM,CAACF,KAAK,CAAE;UAC/CG,UAAU,EAAE3B,cAAe;UAC3B4B,WAAW,EAAC,iHAAuB;UACnCd,SAAS,EAAC,YAAY;UACtBe,IAAI,EAAE,CAAE;UACRC,QAAQ,EAAE9E;QAAU;UAAAgE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrB,CAAC,eACFxE,OAAA;UACE2B,IAAI,EAAC,QAAQ;UACbwC,SAAS,EAAC,UAAU;UACpBgB,QAAQ,EAAE,CAAC3E,UAAU,CAACa,IAAI,CAAC,CAAC,IAAIhB,SAAU;UAAA+D,QAAA,gBAE1CpE,OAAA,CAACT,IAAI;YAACkF,IAAI,EAAE;UAAG;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,gBAEpB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACjE,EAAA,CAjNIN,UAAU;AAAAmF,EAAA,GAAVnF,UAAU;AAmNhB,eAAeA,UAAU;AAAC,IAAAmF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}